<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>SI 649 Lab 4</title>
    <link rel="stylesheet" href="skeleton.css" />
    <link rel="stylesheet" href="normalize.css" />   
    <link rel="stylesheet" href="style.css" />    
</head>
<body> 
<script src="https://d3js.org/d3.v4.min.js"></script>
<script type="text/javascript" src="draw.js"></script>
   
<div class="container">
    <div class="row">
        <div class="column">
            <h1 style="margin-bottom:60px;border-bottom:1px solid #0094ff;padding:10px;">SI-649  Lab 4: Intro to Data Driven Documents (D3)</h1>
        </div>       
    </div>

    <div class="row question">
        <h3 style="color:#0094ff;">Scalable Vector Graphics or SVG</h3>
    </div>


    <div class="row question">
        <h5>1.1 Draw an SVG Cirlce: </h5>
    </div>
    <div class="row answer">
        <svg width="100" height="100">
        	<circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow" />
        </svg>
    </div>

    <div class="row question">
        <h5>1.2 Draw an SVG Rectangle: </h5>
    </div>
    <div class="row answer">
        <svg width="100" height="100">
        	<rect x="10" y="10" width="50" height="50" fill="green" stroke="red" stroke-width="4" rx="10" ry="10"/>
        </svg>
    </div>

    <div class="row question">
        <h5>1.3 Draw an SVG Line: </h5>
    </div>
    <div class="row answer">
        <svg width="50" height="50">
        	<line x1="5" y1="5" x2="40" y2="40" stroke="gray" stroke-width="4" />
        </svg>
    </div>

    <div class="row question">
        <h5>1.4 Draw an SVG Polyline: </h5>
    </div>
    <div class="row answer">
        <svg width="50" height="50">
        	<polyline fill="none" stroke="blue" stroke-width="2" 
        	points="05,30
		        	15,30
		        	15,20
		        	25,20
		        	25,10
		        	35,10" />
        </svg>
    </div>

    <div class="row question">
        <h5>1.5 Draw an SVG Polygon: </h5>
    </div>
    <div class="row answer">
        <svg width="50" height="50">
        	<polygon fill="yellow" stroke="blue" stroke-width="2" 
        	points="05,30
		        	15,10
		        	25,30" />
        </svg>
    </div>


    <div class="row question">
        <h5>1.6 Grouped elements with transformation: </h5>
    </div>
    <div class="row answer">
        <svg width="200" height="150">
        	<g transform="translate(50,20) rotate(45 25 25)">
        		<line x1="5" y1="5" x2="80" y2="5" stroke="gray" stroke-width="5" />
        		<rect x="5" y="20" width="75" height="50" style="fill:#006600; stroke:#006600"/>
        		<text x="10" y="90" style="fill:#660000">SI649</text>
		    </g>
        </svg>
    </div>

    <div class="row question">
        <h3 style="color:#0094ff;">D3.js</h3>
    </div>

    <div class="row question">
        <h5><span style="color:#0094ff;text-decoration:underline;">Things D3 makes easier #1:</span> D3 lets you easily create, select and modify HTML and SVG elements </h5>
        
		<h6>2.1 Long form code:</h6>
    </div>
    <div class="row answer" id="q2-1"></div>
	<script>
		body = d3.select("#q2-1")
		para = body.append("p")
		para = para.text("alice")
		para = para.style("color", "red")
	</script>


    <div class="row question">
        <h6>2.2 Method chaining code </h6>
    </div>
    <div class="row answer" id="q2-2"></div>
	<script>
		body = d3.select("#q2-2")
		para = body.append("p")
				   .text("alice")
				   .style("color", "red")
	</script>

    <div class="row question">
        <h5><span style="color:#0094ff;text-decoration:underline;">Things D3 makes easier #2:</span> D3 lets you loop through data and represent them as SVG </h5>
		<h6>2.3 Display each person:</h6>
    </div>
	<script>
		// A simple dataset we'll use for the rest of this file (don't change)
		people = [
			{name: "Kelly", score: 10},
			{name: "Jim", score: 5}, 
			{name: "John", score: 8},
			{name: "Sally", score: 7},
			{name: "Mike", score: 9}
		]	
	</script>
    <div class="row answer" id="q2-3"></div>
	<script>	
		d3.select("#q2-3")
		  .selectAll("p")
		  .data(people)
		  .enter()
		  .append("p")
		  .text((d, i) => "Person at index " + i + " in the dataset is: " + d.name)
	</script>

    <div class="row question">
		<h6>2.4 Display each person and their score:</h6>
    </div>
    <div class="row answer" id="q2-4"></div>
	<script>	
		d3.select("#q2-4")
		  .selectAll("p")
		  .data(people)
		  .enter()
		  .append("p")
		  .text((d, i) => "Person at index " + i + " in the dataset is: " + d.name + " with score: "+ d.score)
	</script>
	
	
    <div class="row question">
        <h5><span style="color:#0094ff;text-decoration:underline;">Things D3 makes easier #3:</span> D3 lets you configure the look and feel of elements based on data </h5>
		<h6>2.5 Make color a function of score:</h6>
    </div>
    <div class="row answer" id="q2-5"></div>
	<script>	
		d3.select("#q2-5")
		  .selectAll("p")
		  .data(people)
		  .enter()
		  .append("p")
		  .text((d, i) => "Person at index " + i + " in the dataset is: " + d.name + " with score: "+ d.score)
		  .style("color", (d, i) => {
		  	if (d.score >= 9) {
		  		return "red"
		  	}
		  	else {
		  		return "black"
		  	}
		  })
	</script>

    <div class="row question">
		<h6>2.6 Make color a linear function of score:</h6>
    </div>
    <div class="row answer" id="q2-6"></div>
	<script>	
		d3.select("#q2-6")
		  .selectAll("p")
		  .data(people)
		  .enter()
		  .append("p")
		  .text((d, i) => "Person at index " + i + " in the dataset is: " + d.name + " with score: "+ d.score)
		  .style("color", (d, i) => {	
		  		r = 255 / 10 * d.score
		  		console.log(r)
		  		return "rgb(" + r + ",0,0)"
		  	})
	</script>

    <div class="row question">
        <h5><span style="color:#0094ff;text-decoration:underline;">Things D3 makes easier #4:</span> D3 lets you draw SVG elements that are bound to data</h5>
		<h6>2.7 Create squares for each person's score</h6>
    </div>
    <div class="row answer" id="q2-7"></div>
	<script>	
		svg = d3.select("#q2-7")
		  .append("svg")
		  .attr("width", 500)
		  .attr("height", 100)

		svg.selectAll("rect")
		  .data(people)
		  .enter()
		  .append("rect")
		  .attr("width", (d, i) => d.score * 5)
		  .attr("height", (d, i) => d.score * 5)
		  .attr("y", 10)
		  .attr("x", (d, i) => i * 100)
	</script>

    <div class="row question">
		<h6>2.8 Put each person's name below their square and change the squares to circles</h6>
    </div>
    <div class="row answer" id="q2-8"></div>
	<script>	
		svg = d3.select("#q2-8")
		  .append("svg")
		  .attr("width", 500)
		  .attr("height", 100)

		svg.selectAll("circle")
		  .data(people)
		  .enter()
		  .append("circle")
		  .attr("r", (d, i) => d.score * 2)
		  .attr("cy", (d, i) => 10 + d.score * 2)
		  .attr("cx", (d, i) => i * 100 + 20)

		svg.selectAll("text")
		  .data(people)
		  .enter()
		  .append("text")
		  .attr("y", 80)
		  .attr("x", (d, i) => i * 100 + 20 - d.score * 2)  
		  .text((d, i) => d.name)

	</script>

	<div class="row question">
        <h3 style="color:#0094ff;">3. Making grids</h3>
		<h6>3.1 Making a grid row-wise</h6>
    </div>
    <div class="row answer" id="q3-1"></div>
	<script>	
		// Comment each line below indicating what it does		
		svg = d3.select("#q3-1") //select the tag with id is q3-1
			.append("svg") //append a svg tag
			.attr("width", 300) //create a canvas with width of 300
			.attr("height", 300) //create a canvas with height of 300

		rectWidth = 20 //define the width of each cell to be 20
		rectHeight = 20 //define the height of each cell to be 20
    
		rows = svg.selectAll(".row") //declare to create class with name "row"
			.data(d3.range(10)) //define the data to be a range of number from 0-9
			.enter() //enter the data
			.append("g") //define it to be a group tag
			.attr("class", "row")  //define the class to be "row"
			.attr("transform", (d, i) => "translate(0," + (rectHeight * i) + ")") //translate each group element with a certain distance
			
		rects = rows.selectAll("rect") //declare to create rect
			.data(d3.range(10)) //define the data to be a range of number from 0-9
			.enter() //enter the data
			.append("rect") //append rect  
			.attr("x", (d, i) => rectWidth * i) //define its x position to incrementally increase
			.attr("y", 0) //define its y to be 0
			.attr("height", rectHeight) //assign the height
			.attr("width", rectWidth) //assign the width
			.attr("stroke", "white"); //define the stroke to be white
	</script>

	<div class="row question">
		<h6>3.2 Making a grid at once</h6>
    </div>
    <div class="row answer" id="q3-2"></div>
	<script>	
		// Comment each line below indicating what it does		
		svg = d3.select("#q3-2") //select the tag with id is q3-2
			.append("svg") //append a svg tag
			.attr("width", 300) //create a canvas with width of 300
			.attr("height", 300) //create a canvas with height of 300

		rectWidth = 20 //define the width of each cell to be 20
		rectHeight = 20 //define the height of each cell to be 20
    
		rects = svg.selectAll("rect") //declare to create rect
			.data(d3.range(100)) //define the data to be a range of number from 0-99
			.enter() //enter the data
			.append("rect") //append rect  
			.attr("x", (d, i) => rectWidth * (i % 10)) //assign x a value which is the remainder after i devided by 10
			.attr("y", (d, i) => rectWidth * Math.floor(i / 10)) //assign y a value which is the largest integer less than or equal to the number divided by 10
			.attr("height", rectHeight) //assign the height
			.attr("width", rectWidth) //assign the width
			.attr("stroke", "white"); //define the stroke to be white
	</script>

	
</div>
</body>
</html>